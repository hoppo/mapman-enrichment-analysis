<!doctype html>
<html>
<head>
  <title>test-app | AIP Science Apps | Test Runner</title>
  <link rel="shortcut icon" href="https://www.araport.org/sites/all/themes/custom/araport-theme/favicon.ico">

  <!-- jquery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>

  <!-- bootstrap 3 -->
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

  <!-- fontawesome -->
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

  <!-- bower:css -->
  <link rel="stylesheet" href="bower_components/datatables.net-dt/css/jquery.dataTables.css" />
  <!-- endbower-->
  <!-- araport_dep:css -->
  <link rel="stylesheet" href="app/styles/main.css" />  
  <!-- endaraport_dep -->
  <style type="text/css">
  body {
    padding-top: 60px;
  }
  </style>

  <!-- application styles -->
</head>
<body>
  <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">
          <img src="https://www.araport.org/sites/all/themes/custom/araport-theme/images/AIP-logo.svg" class="img-responsive" style="height: 42px; margin-top: -10px;">
          <span class="sr-only">AIP</span>
        </a>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="https://araport.org" target="_blank">Araport.org <i class="fa fa-external-link"></i></a></li>
          <li><a href="https://api.araport.org" target="_blank">Araport API Store <i class="fa fa-external-link"></i></a></li>
          <li><a href="http://agaveapi.co" target="_blank">Agave Documentation <i class="fa fa-external-link"></i></a></li>
        </ul>
      </div>
    </div>
  </nav>

  <header class="container">
    <div class="page-header">
      <h1>AIP Science Apps <small>Test Runner</small></h1>
    </div>
  </header>

  <div class="api-credentials container">
    <div class="pull-right">
      <button type="button" class="btn btn-link" name="toggleTokenForm"><i class="fa fa-key"></i></button>
    </div>

    <div class="token-form">
      <h4>Get an API token</h4>
      <p>
        In order to use any APIs secured by Agave, you will need to get an API
        token. If you have already created an API client, please enter the key
        and secret below, as well as your API username and password. Then click
        &quot;Get Token&quot;.
      </p>
      <form method="post" name="agaveApiTokenForm">
        <div class="form-group">
          <input name="consumerKey" type="text" class="form-control" placeholder="Consumer Key">
        </div>

        <div class="form-group">
          <input name="consumerSecret" type="text" class="form-control" placeholder="Consumer Secret">
        </div>

        <div class="form-group">
          <input name="username" type="text" class="form-control" placeholder="Username">
        </div>

        <div class="form-group">
          <input name="password" type="password" class="form-control" placeholder="Password">
        </div>

        <input type="hidden" name="grant_type" value="password">
        <input type="hidden" name="scope" value="PRODUCTION">

        <div class="form-actions">
          <button type="submit" name="agaveApiTokenFormSubmit" class="btn btn-success">Get Token</button>
          <button type="button" name="agaveApiTokenFormClear" class="btn btn-danger">Clear Credentials</button>
          <button type="button" name="createApiClient" class="btn btn-link">Don't have an API Client? Click here!</button>
        </div>
      </form>
    </div>

    <div class="create-client modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4>Create API Client Credentials</h4>
          </div>
          <div class="modal-body">
            <p>
              You will need an API Client to authenticate and use the Agave APIs. If
              you don't already have an API Client, you can generate one now. Please
              provide your Araport username/password to create a new API client.
            </p>
            <form name="createApiClientForm">
              <div class="form-group">
                <label class="sr-only">Client App Name</label>
                <input class="form-control" name="appName" type="text" placeholder="App name">
              </div>
                <div class="form-group">
                  <label class="sr-only">Username</label>
                  <input class="form-control" name="username" type="text" placeholder="Username">
                </div>
              <div class="form-group">
                <label class="sr-only">Password</label>
                <input class="form-control" name="password" type="password" placeholder="Password">
              </div>

              <button type="submit" class="btn btn-primary">Create Client</button>
              <button type="button" data-dismiss="modal" class="btn btn-default">Cancel</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div>
      <h4>API token</h4>
      <div class="current-token"><p><span class="label label-danger">invalid</span></p></div>
    </div>

    <hr>
  </div>

  <div class="aip-science-app container">
  <!-- araport_dep:html -->
  <div class="science-app" data-app-name="mapman-enrichment-app">
  <form class="form-horizontal" method="get" name="enrichment_analysis" role="form">

    <div class="form-group">
      <label class="col-sm-2 control-label">Species/version</label>
      <div class="col-sm-10">
  	<p class="help-block">Arabidopsis thaliana Araport11 Loci</p>        
      </div>
    </div>



    <div class="form-group">
      <label class="col-sm-2 control-label">MapMan bin Version</label>
      <div class="col-sm-10">
  	<label class="radio-inline">
    		<input type="radio" name="version" value="mapman4">MapMan 4
  	</label>
  	<label class="radio-inline">
    		<input type="radio" name="version" value="mapman3.6"> MapMan 3.6
  	</label>
      </div>
    </div>


    <div class="form-group">
      <label class="col-sm-2 control-label">Background Genes</label>
      <div class="col-sm-10">
  	<textarea class="form-control" name="backgroundGenes" rows="3"></textarea>
      </div>
    </div>

    <div class="form-group">
      <label class="col-sm-2 control-label">Genes of Interest</label>
      <div class="col-sm-10">
          <textarea class="form-control" name="genesOfInterest" rows="3"></textarea>
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button type="submit" class="btn btn-default">Submit</button>
      </div>
    </div>
          <div class="control-group">
                  <div class="controls" id="mapman_enrichment-messages"></div>
          </div>
          <div class="control-group">
                  <div class="controls" id="mapman_enrichment-table"></div>
          </div>

  </form>
  </div>


  <!-- endaraport_dep -->
  </div>

  <!-- swagger-js -->
  <script type="text/javascript" src="/lib/swagger/swagger.js"></script>

  <!-- test runner code -->
  <script src="/lib/Agave.js"></script>
  <script src="/lib/test-runner.js"></script>

  <!-- bower:js -->
  <script src="bower_components/underscore/underscore.js"></script>
  <script src="bower_components/datatables.net/js/jquery.dataTables.js"></script>
  <!-- endbower -->
  <!-- araport_dep:js -->
  <script src="app/scripts/aip-helper.js"></script>  <script src="app/scripts/main.js"></script>  
  <!-- endaraport_dep -->

  <!-- application code -->
</body>
</html>
